---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# Mental Health Surge Modelling [<img src="https://www.strategyunitwm.nhs.uk/themes/custom/ie_bootstrap/logo.svg" title="The Strategy Unit" alt="The Strategy Unit Logo" align="right" height="80"/>](https://www.strategyunitwm.nhs.uk/)

<!-- badges: start -->

[![Lifecycle: maturing](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing) [![R build status](https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/workflows/R-CMD-check/badge.svg)](https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/actions)

<!-- badges: end -->

This package is a Shiny application to model the surge in mental health needs caused by the COVID-19 pandemic. It is hosted at [strategyunit.shinyapps.io/MH\_Surge\_Modelling](https://strategyunit.shinyapps.io/MH_Surge_Modelling/ "MH Surge Modelling | The Strategy Unit on shinyapps.io").

The model framework has been guided by literature reviews and expert opinions. Data on population groups is sourced from both routine and local data and variables for the model are based on a mixture of Trust returns and extracts from [MHSDS](https://data.england.nhs.uk/ncdr/database/NHSE_MH_V3_YTD/ "Mental health data (MHSDS v3)") and [IAPT](https://data.england.nhs.uk/ncdr/database/NHSE_IAPT/ "Improving access to psychological therapies (IAPT)") datasets within [NCDR](https://data.england.nhs.uk/ncdr/about/ "National Commissioning Data Repository (NCDR)").

## Usage

```{r eval=FALSE}
devtools::install_github("The-Strategy-Unit/723_mh_covid_surge_modelling")
mhSurgeModelling::run_app()
```

## Project Structure

This package uses the [`{golem}`](https://github.com/ThinkR-open/golem) framework. All of the code is organised in the `R/` folder. The files are structured in the following way:

-   `app_*.R` files are the main application files

-   `golem_*.R` files, and `run_app.R` are generated by the [`{golem}`](https://github.com/ThinkR-open/golem) framework

-   `module_*.R` files are the shiny modules for the application: each "page" has it's own module. These files contain both the `ui` and `server` functions for that module

-   `plot_*.R` files contain the code to produce the data for plots and the corresponding plot function. All plots for the application are generated using the [`{plotly}`](https://plotly.com/r/) package

-   `utils_*.R` files contain the functions and utilities that are required by the application

-   `ZZZ.R` contains extra code, such as what variables to load into the global environment at start up

## Contributing

Contributions are welcome, but please note that this tool was developed for a specific project, so we may not be able to accept all changes. Please file an [issue](https://github.com/The-Strategy-Unit/723_mh_covid_surge_modelling/issues/new) to discuss any bugs or changes before filing a pull request.
